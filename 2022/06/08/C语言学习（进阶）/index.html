<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="C语言学习（进阶）, AKYCCCC">
    <meta name="description" content="操作符算术操作符+加号
-减号
*乘号
&amp;#x2F;除号
%取模（余）（余数）什么意思？举例说明：10&amp;#x2F;3=&amp;#x3D;3余1，那10%3=&amp;#x3D;110&amp;#x2F;2=&amp;#x3D;5余0，那10%2=&amp;#x3D;0
你问负数">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    

    <title>C语言学习（进阶） | AKYCCCC</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery-3.6.0.min.js"></script>

<meta name="generator" content="Hexo 6.1.0"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">AKYCCCC</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">AKYCCCC</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/22.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">C语言学习（进阶）</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/c%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/">
                                <span class="chip bg-color">c语言学习</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/C/" class="post-category">
                                C
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2022-06-08
                </div>
                

                

                

                

                
            </div>
        </div>
        <hr class="clearfix">

        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h2 id="操作符"><a href="#操作符" class="headerlink" title="操作符"></a>操作符</h2><h3 id="算术操作符"><a href="#算术操作符" class="headerlink" title="算术操作符"></a>算术操作符</h3><h4 id><a href="#" class="headerlink" title="+"></a>+</h4><p>加号</p>
<h4 id="-1"><a href="#-1" class="headerlink" title="-"></a>-</h4><p>减号</p>
<h4 id="-2"><a href="#-2" class="headerlink" title="*"></a>*</h4><p>乘号</p>
<h4 id="x2F"><a href="#x2F" class="headerlink" title="&#x2F;"></a>&#x2F;</h4><p>除号</p>
<h4 id="-3"><a href="#-3" class="headerlink" title="%"></a>%</h4><p>取模（余）（余数）<br>什么意思？<br>举例说明：<br>10&#x2F;3=&#x3D;3余1，那10%3=&#x3D;1<br>10&#x2F;2=&#x3D;5余0，那10%2=&#x3D;0</p>
<p>你问负数怎么办？<br>举例说明：<br>-10%3=&#x3D;?<br>10%-3=&#x3D;?<br>先说明，在用负数取模的时候有两种算法，一种是truncate 除法，一种是floor 除法<br>不同的编译器用的算法不一样，所以不用去深究这方面的问题.了解知道编译器在面对负数取模的时候是怎么算出来的就好</p>
<blockquote>
<p>truncate 除法<br> 10 % （-3）&#x3D; 1 的计算结果如下：r &#x3D; 10 - (10 &#x2F; -3) * -3 &#x3D; 10 - (-3 x -3) &#x3D; 1<br> -10 % 3 &#x3D; -1 的计算结果如下：r &#x3D; -10 - (-10 &#x2F; 3) * 3 &#x3D; -10 - (-3 * 3) &#x3D; -1。</p>
</blockquote>
<blockquote>
<p>floor 除法<br> 10 % （-3）&#x3D; -2 的计算结果如下：r &#x3D; 10 - (10 &#x2F; -3) * -3 &#x3D; 10 - (-4 x -3) &#x3D; -2<br>-10 % 3 &#x3D; 2 的计算结果如下：r &#x3D; -10 - (-10 &#x2F; 3) * 3 &#x3D; -10 - (-4 * 3) &#x3D; 2。</p>
</blockquote>
<p>至少vs2022用的是truncate 除法.</p>
<p>还有模0<br>你自己想一想，你模0想干什么<br>模一个负数或者0有没有意义</p>
<h3 id="移位操作符"><a href="#移位操作符" class="headerlink" title="移位操作符"></a>移位操作符</h3><h4 id="左移操作符"><a href="#左移操作符" class="headerlink" title="左移操作符"></a>左移操作符</h4><p>&lt;&lt;<br>注：打代码时，输入法一定要英文的.输成书名号就不对了<br>左移操作符实际上操作的是被操作数对应的二进制<br>举例说明：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a=<span class="number">2</span>;</span><br><span class="line">    <span class="type">int</span> b=a&lt;&lt;<span class="number">1</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,b);<span class="comment">//4</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>a);<span class="comment">//2</span></span><br><span class="line">    <span class="comment">//移位操作符不会改变被操作数的值</span></span><br><span class="line">    returm <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>b是怎么变成4的，下面画图解释<br><img src="/2022/06/08/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/2022-06-09-09-33-31.png"></p>
<p>负数怎么办？<br>这边用-1举例<br><img src="/2022/06/08/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/2022-06-09-09-42-15.png"></p>
<blockquote>
<p>关于内存原反补的转换，在之前有讲，这里就不谈了.<br> 移位操作符实际操作的是二进制，所以不是二进制直接操作的就不能使用移位操作符，比如浮点数</p>
</blockquote>
<h4 id="右移操作符"><a href="#右移操作符" class="headerlink" title="右移操作符"></a>右移操作符</h4><p>&gt;&gt;<br>注意输入法的切换</p>
<p>右移操作符分为算数右移和逻辑右移</p>
<blockquote>
<p>1.算数右移—-右边丢弃左边补原来的符号位<br>2.逻辑右移—-右边丢弃，左边补0</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a=<span class="number">10</span>;</span><br><span class="line">    <span class="type">int</span> b=a&gt;&gt;<span class="number">1</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,b);<span class="comment">//5</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>a);<span class="comment">//10</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/2022/06/08/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/2022-06-09-10-01-32.png"></p>
<p>那就来个负数的，比如-1<br><img src="/2022/06/08/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/2022-06-09-10-06-02.png"></p>
<p><img src="/2022/06/08/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/2022-06-09-10-10-08.png"></p>
<blockquote>
<p>根据实操<br>可以得出结论，vs2022用的是算数右移<br>移位操作符实际操作的是二进制，所以不是二进制直接操作的就不能使用移位操作符，比如浮点数</p>
</blockquote>
<h3 id="位操作符"><a href="#位操作符" class="headerlink" title="位操作符"></a>位操作符</h3><blockquote>
<p>&amp; —按位与  2个数的32位二进制进行比较，都是1输出1，其他输出0<br>  | —按位或  2个数的32位二进制比较，   有一个是1输出1，其他输出0<br>  ^ —按位异或 2个数的32位二进制比较，   相同为0，不同为1</p>
</blockquote>
<h3 id="赋值操作符"><a href="#赋值操作符" class="headerlink" title="赋值操作符"></a>赋值操作符</h3><blockquote>
<p>+&#x3D;<br> -&#x3D;<br> *&#x3D;<br> &#x2F;&#x3D;<br> &gt;&gt;&#x3D;<br> &lt;&lt;&#x3D;<br>  %&#x3D;<br> &amp;&#x3D;<br> |&#x3D;<br> ^&#x3D;</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">a+=<span class="number">1</span> == a=a+<span class="number">1</span>;</span><br><span class="line">a-=<span class="number">1</span> == a=a<span class="number">-1</span>;</span><br><span class="line">a*=<span class="number">1</span> == a=a*<span class="number">1</span>;</span><br><span class="line">a/=<span class="number">1</span> == a=a/<span class="number">1</span>;</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="逻辑操作符"><a href="#逻辑操作符" class="headerlink" title="逻辑操作符"></a>逻辑操作符</h3><h4 id="逻辑与"><a href="#逻辑与" class="headerlink" title="逻辑与"></a>逻辑与</h4><p><code>&amp;&amp;</code>:键盘上数字7下面那个符号<br>举例说明</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">if</span>(<span class="number">0</span> &amp;&amp; <span class="number">1</span>)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span>(<span class="number">1</span> &amp;&amp; <span class="number">1</span>)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;2&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span>(<span class="number">1</span> &amp;&amp; <span class="number">0</span> &amp;&amp; <span class="number">1</span> )</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;3&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//输出2</span></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>逻辑与将输入的操作数进行比较，如果其中有一个为假，就不执行.0就是假，非0就是真.<code>NULL是一个（void*）0</code>,<code>EOF是-1</code> <code>&#39;\0&#39;是0</code></p>
<h4 id="逻辑或"><a href="#逻辑或" class="headerlink" title="逻辑或"></a>逻辑或</h4><p><code>||</code>：退格键下面那个<br>举例说明</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">if</span>(<span class="number">1</span> || <span class="number">0</span>)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span>(<span class="number">1</span> || <span class="number">1</span>)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;2&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span>(<span class="number">0</span> || <span class="number">0</span>)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;3&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//输出1，2</span></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>逻辑或将输入的操作数进行比较，只要其中有一个为真，就执行</p>
<h3 id="条目操作符"><a href="#条目操作符" class="headerlink" title="条目操作符"></a>条目操作符</h3><h4 id="三目运算符"><a href="#三目运算符" class="headerlink" title="三目运算符"></a>三目运算符</h4><p><code>exp1?exp2:exp3</code><br>exp1表达式的结果决定最后运行的结果<br>举例说明</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="type">int</span> a=<span class="number">1</span> &gt; <span class="number">0</span> ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> b = <span class="number">1</span> &lt; <span class="number">0</span> ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, a);</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, b);</span><br><span class="line">  <span class="comment">//输出1，0</span></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="逗号表达式"><a href="#逗号表达式" class="headerlink" title="逗号表达式"></a>逗号表达式</h4><p><code>exp1,exp2,exp3,....</code><br>表达式可以无限写下去<br>逗号表达式的值是最后一个表达式的值<br>举例说明</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="type">int</span> a = (<span class="number">1</span>+<span class="number">2</span>,<span class="number">2</span>+<span class="number">5</span>,<span class="number">1</span><span class="number">-3</span>);</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, a);</span><br><span class="line">  <span class="comment">//输出-2</span></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>结论：逗号表达式最后输出的值是最后一个表达式的值<br>但是要注意一个问题，逗号表达式虽然是只输出最后一个表达式的值，但是题目中会出现这样的陷阱</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="type">int</span> a=<span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span> b=<span class="number">2</span>;</span><br><span class="line">  <span class="type">int</span> c=<span class="number">3</span>;</span><br><span class="line">  <span class="type">int</span> d=<span class="number">4</span>;</span><br><span class="line">  a=(a=b+c,c=a+b,a=a+c);</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,a);</span><br><span class="line">  <span class="comment">//输出12</span></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>什么陷阱呢？<br>第一个是乱，好几个变量搞来搞去一定要弄清楚<br>第二个是，有人知道逗号表达式的值是最后一个表达式的值，所以前面看都不看直接就算a&#x3D;a+c;最后错了，因为前面的表达式进行了赋值，所以到最后a和c的值也会改变<br>第三点，从第二个点可以知道，逗号表达式里面的表达式运算过后是会改变变量的值的.<br>有的操作符不管你表达式怎么写，最后a还是等于0,c还是等于3.要注意.</p>
<h4 id="下标引用操作符"><a href="#下标引用操作符" class="headerlink" title="下标引用操作符"></a>下标引用操作符</h4><p><code>[]</code><br>没错，就是数组一直用的那个<br><code>arr[0]</code>:表示引用arr数组中下标为0对应的元素<br>不多说了</p>
<h4 id="函数调用操作符"><a href="#函数调用操作符" class="headerlink" title="函数调用操作符"></a>函数调用操作符</h4><p><code>()</code><br>没错，就是main()后边跟的这个符号</p>
<h4 id="结构体访问操作符"><a href="#结构体访问操作符" class="headerlink" title="结构体访问操作符"></a>结构体访问操作符</h4><h5 id="点操作符"><a href="#点操作符" class="headerlink" title="点操作符"></a>点操作符</h5><p><code>.</code><br>一个点，这边不太好说明，放到结构体那一块会容易理解<br>点操作符主要针对的是结构体变量</p>
<h5 id="箭头操作符"><a href="#箭头操作符" class="headerlink" title="箭头操作符"></a>箭头操作符</h5><p><code>-&gt;</code><br>也是放到结构体那一块会很好理解<br>箭头操作符主要针对结构体指针</p>
<h3 id="表达式求值"><a href="#表达式求值" class="headerlink" title="表达式求值"></a>表达式求值</h3><p>表达式求值的顺序一部分是由操作符的优先级和结合性决定<br>至于优先级，需要查表<br>有的表达式的操作数在求值的过程中可能需要转换为其他类型，比如从整形计算到小数的时候需要转换成浮点型</p>
<h3 id="隐式类型转换"><a href="#隐式类型转换" class="headerlink" title="隐式类型转换"></a>隐式类型转换</h3><p>涉及到的一个知识点：整形提升<br>整形提升：在表达式计算时，各种整型首先要提升为int类型，如果int类型不足以表示则要提升为unsigned int类型；然后执行表达式的运算。<br>例一</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="type">char</span> a=<span class="number">3</span>;</span><br><span class="line">  <span class="type">char</span> b=<span class="number">127</span>;</span><br><span class="line">  <span class="type">char</span> c=a+b;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, c);</span><br><span class="line">  <span class="comment">//输出-126</span></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>为什么会这样呢？<br>从代码中可以解读出，a,b,c三个变量都是char类型的.最后是用%d的形式输出.<br>开始计算<br>那目前a在内存中的二进制补码是00000011，char类型只有8个字节<br>那b在内存中的二进制就是011111111<br>那么现在来到c&#x3D;a+b,从开头有说，表达式计算时，各种整形要提升为int类型.<br>那就提升<br>a提升变成00000000000000000000000000000011<br>b提升变成00000000000000000000000001111111<br>相加就变成00000000000000000000000010000010<br>但是c也是char类型的，所以在放到c里面的时候就会进行截断<br>那最后c里面存的就是10000010<br>当内存里面是这么存的时候，第一个1就表示的是符号位，也就是说10000010中左边的那个1表示的是符号位，不是数字<br>然后来到打印环节，打印我用的是%d打印，那就也要发生整形提升<br>如果符号位是1那就会在前面补1<br>如果符号位是0那就会在前面补0<br>c就变成11111111111111111111111110000010（补码）<br>要打印就要变成原码<br>c的反码11111111111111111111111110000001<br>c的原码10000000000000000000000001111110<br>最后输出的就是-126</p>
<p>例二</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="type">char</span> a=<span class="number">3</span>;</span><br><span class="line">  <span class="type">char</span> b=<span class="number">127</span>;</span><br><span class="line">  <span class="type">int</span> c=a+b;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, c);</span><br><span class="line">  <span class="comment">//输出130</span></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果说c是整形类型，那计算结果就不会有什么影响<br>%u输出无符号十进制整数</p>
<h4 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h4><p>char类型的取值范围是-128-127<br>为什么呢？<br>因为char类型的0的二进制是00000000<br>1的二进制是000000001<br>以此类推<br>推到01111111，也就是127.<br>在加1变成10000000<br>此时这个1就不是代表数字了，是符号位，那这个二进制怎么解读呢，难不成是-0？<br>其实是-128.就当做这是个规定，C语言中char类型的100000000就是-128，没有为什么.至于喜欢深究的就自己去研究吧<br>那10000000在加1变成10000001在加1变成10000010<br>所以最后结果char的取值范围是-128-127，一共256个数，没毛病.</p>
<h3 id="算数转换"><a href="#算数转换" class="headerlink" title="算数转换"></a>算数转换</h3><p>如果某个操作符的各个操作数属于不同的类型，那么除非其中一个操作数的转换为另一个操作数的类型，否则操作就无法进行<br>说人话：如果有几个不同类型的数进行计算，那就必须把这几个数转化成同一个类型<br>那向那个类型转换呢？<br>精度低的向精度高的转换<br>比如int和char进行计算，就需要先都变成int类型才开始计算<br>那int和float呢？这两个都是4字节啊，答案是，精度低的向精度高的转换<br>float的精度是大于int的.</p>
<h3 id="操作符的属性"><a href="#操作符的属性" class="headerlink" title="操作符的属性"></a>操作符的属性</h3><p>操作符有是哪个属性<br>优先级、结合性、是否控制求值顺序<br>优先级查表<br>两个相邻的操作符先执行哪个？<br>如果两者优先级相同，取决于他们的结合性</p>
<h2 id="调试技巧"><a href="#调试技巧" class="headerlink" title="调试技巧"></a>调试技巧</h2><p>掌握基本的快捷键<br>熟悉调试的方法，调试中有哪些问题<br>多刷题，多看书，多调试，多写代码<br>鹏哥推荐的书籍：<br>1.《c陷阱和缺陷》<br>2.《明解C语言》初级和进阶2版<br>3.《c和指针》<br>4.《比特c课件》<br>5.《C语言深度解剖》<br>6.《C primer plus》  太厚了容易放弃<br>7.谭浩强的C语言 —- 看起来通俗易懂，但是代码风格写的很差，只看他的语法，不模仿代码</p>
<h2 id="数据存储"><a href="#数据存储" class="headerlink" title="数据存储"></a>数据存储</h2><h3 id="整形家族"><a href="#整形家族" class="headerlink" title="整形家族"></a>整形家族</h3><p>char、short、int、long、longlong<br>unsigned - 无符号的<br>signed - 有符号的<br>数据在内存中是以二进制的方式进行存储<br>对于整数来说：<br>整数在内存中存储的二进制有三种表示形式<br>正整数：原码、反码、补码相同<br>负整数：原码、反码、补码要进行计算<br>按照数值的数据直接写出的二进制序列就是原码<br>原码的符号位不变，其他位按位取反，得到的是反码<br>反码+1，得到的是补码<br>整数在内存中存的是二进制的补码<br>在cpu中是没有减法器的，只有加法器，例如计算1-1，那么等于1+（-1）；在运算中是用补码进行运算<br>来看看下面的几个例子</p>
<p>int main()<br>{<br>    char a &#x3D; -1;<br>10000000000000000000000000000001   &#x2F;&#x2F;-1的原码<br>11111111111111111111111111111110   &#x2F;&#x2F;-1的反码<br>11111111111111111111111111111111   &#x2F;&#x2F;-1的补码<br>                        11111111   &#x2F;&#x2F;char a &#x3D; -1 中存的补码<br>11111111111111111111111111111111   &#x2F;&#x2F;打印的时候因为打印的是整形，所以需要整形提升.这里的是补码， 在打印的时候我们要的是原码<br>11111111111111111111111111111110   &#x2F;&#x2F;反码<br>10000000000000000000000000000001   &#x2F;&#x2F;原码，最后打印-1<br>signed char b &#x3D; -1;<br>10000000000000000000000000000001   &#x2F;&#x2F;-1的原码<br>11111111111111111111111111111110   &#x2F;&#x2F;-1的反码<br>11111111111111111111111111111111   &#x2F;&#x2F;-1的补码<br>                         11111111   &#x2F;&#x2F;signed char b &#x3D; -1;中存的补码<br>11111111111111111111111111111111   &#x2F;&#x2F;打印的时候因为打印的是整形，所以需要整形提升.这里的是补码， 在打印的时候我们要的是原码<br>11111111111111111111111111111110   &#x2F;&#x2F;反码<br>10000000000000000000000000000001   &#x2F;&#x2F;原码，最后打印-1<br>unsigned char c &#x3D; -1;<br>                        11111111    &#x2F;&#x2F;就算是unsigned，unsigned char c &#x3D; -1;中存的补码也是11111111<br>00000000000000000000000011111111    &#x2F;&#x2F;因为是无符号整形，所以前面补0 这里是补码。<br>00000000000000000000000011111111     &#x2F;&#x2F;因为要输出，所以要求出他的原码，又因为最高位是0，是个正数，正数的原反补相同.<br>00000000000000000000000011111111      &#x2F;&#x2F;最后输出255<br>printf(“%d%d%d”, a, b, c); &#x2F;&#x2F;输出 -1   -1    255<br>return 0;<br>}<br>看完例子后，第一个问题可能就是，为什么一开始-1的原码是32位的，不是创建的char a吗？<br>因为，从底层来看，是把-1放到char a里面，-1是32位就是32位，和创建的变量类型大小无关.但是把-1到char a里面就会被截断成8位<br>char到底是signed char还是unsigned char?<br>c语言标椎没有规定，取决于编译器<br>int 是signed int<br>short是signed short<br>%u — 打印无符号整数<br>int main()<br>{<br>    char a &#x3D; -128;<br>    &#x2F;&#x2F;10000000000000000000000010000000   -原<br>    &#x2F;&#x2F;11111111111111111111111101111111   -反<br>    &#x2F;&#x2F;11111111111111111111111110000000   -补<br>    &#x2F;&#x2F;                        10000000   -char a &#x3D; -128<br>    &#x2F;&#x2F;11111111111111111111111110000000   -整形提升   补<br>    &#x2F;&#x2F;11111111111111111111111110000000   -因为要打印的是无符号整数，所以编译器就认为第一个1是数值，而不是符号位 这里是补码<br>    &#x2F;&#x2F;11111111111111111111111110000000   -既然是个正数，所以第一个1不是符号位，因为补码码原码相同，所以直接打印，输出一个很大的数字  4294967168<br>    printf(“%u”, a);   &#x2F;&#x2F;%u是打印10进制无符号整数<br>    return 0;<br>}</p>
<p>int main()<br>{<br>    char a &#x3D; 128;<br>    &#x2F;&#x2F;00000000000000000000000100000000   - 原反补相同<br>    &#x2F;&#x2F;                       100000000   - char a &#x3D; 128<br>    &#x2F;&#x2F;11111111111111111111111100000000   - 整形提升 这里是补码<br>    &#x2F;&#x2F;11111111111111111111111100000000   -因为要打印的是无符号整数，所以编译器就认为第一个1是数值，而不是符号位 这里是补码<br>    &#x2F;&#x2F;11111111111111111111111100000000   - 因为是要输出无符号整形，所以第一个不是符号位，正数的原反补相同，所以输出一个很大的数字 4294967168<br>    printf(“%u”, a);<br>    return 0;<br>}<br>有符号的char取值范围是-128到127<br>内存中 10000000  会被直接解析成-128<br>char的取值范围其实可以理解成一个圈，具体看图<br><img src="/2022/06/08/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/2022-06-15-21-27-34.png"><br>下面又有几个例子.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">unsigned</span> <span class="type">int</span> i;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">9</span>; i &gt;= <span class="number">0</span>; i--)<span class="comment">//因为i是个无符号整数，而无符号整数肯定大于等于0，所以无限循环..</span></span><br><span class="line">	&#123;                               </span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%u\n&quot;</span>, i);<span class="comment">//无限循环</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>怎么说呢？<br>当i&#x3D;0时<br>00000000000000000000000000000000<br>那在-1是？<br>0-1知道是-1吧<br>那这里的0-1也是-1<br>是-1那么在内存中存的二进制就是<br>10000000000000000000000000000001<br>又因为i是unsigned int类型的<br>所以10000000000000000000000000000001直接被认为是一个正整数<br>所以无限循环</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">char</span> a[<span class="number">1000</span>];</span><br><span class="line">	<span class="type">int</span> i;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		a[i] = <span class="number">-1</span> - i;</span><br><span class="line">	&#125;                           </span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, <span class="built_in">strlen</span>(a)); <span class="comment">//输出255  </span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>怎么说？<br>首先从0开始，也就是是arr数组下标为0的地方被放成-1，然后开始循环<br>一直循环，直到i&#x3D;255(为什么i是255？)自己思考看看<br>因为是从-1开始循环的<br>注意：是i&#x3D;&#x3D;255,但是数组下标为255的地方放的是-127<br>不明白就上去看看char的那个圆<br>当i&#x3D;256的时候，那数组下标256的地方放的是0，没错，是0；<br>而strlen就是遇到0就停下来，且这个0是不算在个数里面的<br>所以最后是255个<br>再次注意：这255个是strlen遇到0了所以只计算到255个，但是数组里面还是放了1000个数字<br>接下来又懵了，那从-1开始减，不就是-1~-127吗，然后就0了，怎么会是255个呢<br>注意：在计算机中，他看到的是二进制，而不是数字<br>也就是说-1-127其实是<br>10000001+（11111111）<br>也就是10000000是-128然后再减<br>-1-128<br>10000001+（10000000）<br>100000001这里是9位<br>而这个数组是char懂吧，前面这个1被抛弃了所以是1然后继续循环<br>那0是什么时候出现的呢？<br>-1-255<br>10000001+（11111111）<br>最后变成00000000</p>
<blockquote>
<p>当然在计算的时候肯定发生整形提升了，为了方便我这边就没写整形提升的详细过程.</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i = <span class="number">0</span>;       </span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> count = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt;= <span class="number">255</span>; i++)     <span class="comment">//范围是0-255，一共有256个数，刚好等于255的时候在加一就变成0，所以死循环</span></span><br><span class="line">	&#123;</span><br><span class="line">		count++;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;hello word %d\n&quot;</span>, count);    <span class="comment">//死循环</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>定义了一个unsigned char i<br>在循环到i&#x3D;255时，在加加，就又变成0了<br>所以死循环<br>至于原理，和上面是差不多的，就不解释了.</p>
<h3 id="浮点型家族"><a href="#浮点型家族" class="headerlink" title="浮点型家族"></a>浮点型家族</h3><p>xxxxxxxxxx40 1&#x2F;&#x2F;#include &lt;stdlib.h&gt;2&#x2F;&#x2F;void reverse(char* left,char *right)    &#x2F;&#x2F;字符串逆序3&#x2F;&#x2F;{4&#x2F;&#x2F;  while (left &lt; right) 5&#x2F;&#x2F;  {6&#x2F;&#x2F;      char tmp &#x3D; *left;7&#x2F;&#x2F;      *left &#x3D; <em>right;8&#x2F;&#x2F;      <em>right &#x3D; tmp;9&#x2F;&#x2F;      left++;10&#x2F;&#x2F;      right–;11&#x2F;&#x2F;  }12&#x2F;&#x2F;}13&#x2F;&#x2F;int main()14&#x2F;&#x2F;{15&#x2F;&#x2F;  char arr[100] &#x3D; { 0 };16&#x2F;&#x2F;  gets(arr);                 &#x2F;&#x2F;把输入的内容放到arr这个数组中17&#x2F;&#x2F;  int len &#x3D; strlen(arr);18&#x2F;&#x2F;  reverse(arr,arr+len-1);19&#x2F;&#x2F;  char</em> start &#x3D; arr;20&#x2F;&#x2F;  while (<em>start)              &#x2F;&#x2F;当</em>start是’\0’的时候循环就停下21&#x2F;&#x2F;  {22&#x2F;&#x2F;      char</em> end &#x3D; start;      23&#x2F;&#x2F;      while (*end!&#x3D; ‘ ‘&amp;&amp;*end!&#x3D;’\0’)    24&#x2F;&#x2F;      {25&#x2F;&#x2F;          end++;26&#x2F;&#x2F;      }27&#x2F;&#x2F;      reverse(start, end-1);28&#x2F;&#x2F;      if (*end &#x3D;&#x3D; ‘ ‘)29&#x2F;&#x2F;      {30&#x2F;&#x2F;          start &#x3D; end+1;31&#x2F;&#x2F;      }32&#x2F;&#x2F;      else33&#x2F;&#x2F;      {34&#x2F;&#x2F;          start &#x3D; end;35&#x2F;&#x2F;      }36&#x2F;&#x2F;  }37&#x2F;&#x2F;38&#x2F;&#x2F;  printf(“%s”, arr);39&#x2F;&#x2F;  return 0;40&#x2F;&#x2F;}c</p>
<blockquote>
<p>（-1）^S * M * 2 ^ E</p>
</blockquote>
<blockquote>
<p>（-1）是一个常数<br>S是0或1（二进制中的第一位）<br>当要存进去的数是正数，S就是1<br>当要存进去的数是负数，S就是0<br>反过来<br>当读取的二进制位中第一个二进制是0读出来的是正数<br>当读取的二进制位中第一个二进制是1读出来的是负数</p>
</blockquote>
<blockquote>
<p>M表示一个有效数字（用科学记数法记的数字）<br>科学计数法是什么？举个例子<br>123456可以被记成1.23456*10^5<br>但是这里的M是二进制的，那二进制变成科学计数法怎么变呢？<br>在举例<br>比如说5.5<br>5的二进制是00000101，应该是32位的，我就里就直接简略写了<br>00000101可以被记成101<br>还没完.5.5后面还有个0.5，这怎么算呢？<br>0.5换成二进制表示就是0.1<br>那么5.5换成二进制就是101.1，然后在换成科学计数法<br>101.1 &#x3D;&#x3D; 1.011*2^2<br>因为是二进制，所以后面跟的是2的2次方.<br>M就等于1.011</p>
</blockquote>
<blockquote>
<p>2是一个常数（也可以说是二进制的2）<br>E表示指数位由上面5.5的例子，那这里的E就是2</p>
</blockquote>
<blockquote>
<p>10进制数0.5是怎么变成0.1的呢？<br><img src="/2022/06/08/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/2022-06-16-22-09-05.png"><br>接着提供下图给大家参考<br><img src="/2022/06/08/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/2022-06-16-22-10-02.png"><br><img src="/2022/06/08/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/2022-06-16-22-10-18.png"></p>
</blockquote>
<blockquote>
<p>然而根据上面的那几张图，又可以发现一些问题<br>由上表可见，十进制数0的下一位是0.0625。因此，这中间的小数， 就无法用小数点后4位数的二进制数来表示。同样，0.0625的下一位 数一下子变成了 0.125。这时，如果增加二进制数小数点后面的位 数，与其相对应的十进制数的个数也会增加，但不管增加多少位， 2 的－○○次幂怎么相加都无法得到0.1这个结果。实际上，十进制数 0.1 转换成二进制后，会变成 0.00011001100…（1100 循环）这样的 循 环小数 A。这和无法用十进制数来表示 1&#x2F;3 是一样的道理。1&#x2F;3 就是 0.3333…，同样是循环小数。<br>说人话：计算机并不是永远准确的<br>比如0.1累加100次后的结果是10，但是计算机算出来结果是10吗？实际上它计算出的结果是10.0000002<br>至于原因是什么呢？怎么避免这种问题呢？<br>我不打算深究这些问题</p>
</blockquote>
<h4 id="浮点数存入二进制"><a href="#浮点数存入二进制" class="headerlink" title="浮点数存入二进制"></a>浮点数存入二进制</h4><p>IEEE 754对有效数字M和指数E的规定。<br>1、有效数字M：<br>1&lt;&#x3D;M&lt;2,也就是说，M写成1.xxx……的形式，其中xxx……表示小数部分。</p>
<p>IEEE 754规定，在计算机内部保存M时，默认这个数的第一位总是1，因此可以被舍去，只保存小数部分。比如保存1.0110001101时，只保存0110001101，后面的位数补0就可以了，等到读取的时候，再把第一位的1补上去。</p>
<blockquote>
<p>说人话，既然二进制数换成科学计数法后，第一位肯定是1，那就在存入内存的时候直接把这个1去掉，计算的时候在补上就好了.<br>这样做有什么好处？<br>因为在内存中能存储的位置是有限的，少存这个一，就可以在多放一位有意义的数</p>
</blockquote>
<p>2、指数E:<br>首先，E为一个无符号整数（unsigned int）</p>
<p>如果E为8位，它的取值范围为0~255；如果E为11位，它的取值范围为0~2047。但是，我们知道，科学计数法是可以出现负数的，所以IEEE 754规定，存入内存的E是真实值加上一个中间数，对于8位的E，中间数是127，对于11位的E，中间数是1023。比如，26 的E是6，所以保存为32位浮点数时，必须保存为6+127&#x3D;133，即10000101。</p>
<blockquote>
<p>说人话：在内存空间中存E，E只可以是正数。但是呢，科学计数法中E可能是负数，比如10进制0.5换成二进制在换成科学计数法是1.0*2^-1,为了避免出现负数存进内存，所以要加上127或1023<br>比如10存进去，必须变成10+127&#x3D;137，就是10001001存进去<br>比如-1存进去，必须变成-1+127&#x3D;126，就是01111110存进去<br>这里我用的是float来举例的，float里E能放8位，中间数就是127，所以加127<br>如果是double，而double里E能放11位，中间数是1023，所以存到double里要加1023</p>
</blockquote>
<p><img src="/2022/06/08/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/2022-06-16-22-50-01.png"><br><img src="/2022/06/08/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/2022-06-16-22-50-16.png"></p>
<h4 id="浮点数从二进制中取出"><a href="#浮点数从二进制中取出" class="headerlink" title="浮点数从二进制中取出"></a>浮点数从二进制中取出</h4><h5 id="分3种情况"><a href="#分3种情况" class="headerlink" title="分3种情况"></a>分3种情况</h5><p>1.E里面存的有0有1（正常情况）<br>就按照公式把内存中的二进制一一代入公式计算就好了</p>
<p>2.E里面存的全是0：此时浮点数的指数E等于（1-127）或（1-1023），有效数字不在加上第一位的1，而是还原为0.xxxxxx的小数，这样做是为了表示+-0，以及接近0的很小的数字</p>
<p>3.E里面存的全是1：如果有效数字全为0，表示+-无穷大（其符号位决定于S）</p>
<h3 id="大小端字节序"><a href="#大小端字节序" class="headerlink" title="大小端字节序"></a>大小端字节序</h3><blockquote>
<p>大端字节序：把数据的低位字节序的内容存放在高地址处，高位字节序的内容存放在低地址处<br>小端字节序：把数据的低位字节序的内容存放在低地址处，高位字节序的内容存放在高地址处</p>
</blockquote>
<p>写代码判断当前机器字节序是大端还是小端</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">check_sys</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> a = <span class="number">1</span>;</span><br><span class="line">	<span class="type">char</span>* p = (<span class="type">char</span>*)&amp;a;            </span><br><span class="line">	<span class="keyword">return</span> *p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> ret = check_sys();</span><br><span class="line">	<span class="keyword">if</span> (ret == <span class="number">1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;小端&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;大端&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>怎么说？<br>看图<br><img src="/2022/06/08/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/2022-06-15-22-23-44.png"><br><img src="/2022/06/08/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/2022-06-15-23-00-42.png"></p>
<h3 id="构造类型-自定义类型：结构体类型（struct）、数组、枚举（enum）、联合体-union-、"><a href="#构造类型-自定义类型：结构体类型（struct）、数组、枚举（enum）、联合体-union-、" class="headerlink" title="构造类型-自定义类型：结构体类型（struct）、数组、枚举（enum）、联合体(union)、"></a>构造类型-自定义类型：结构体类型（struct）、数组、枚举（enum）、联合体(union)、</h3><h3 id="指针类型-int、char、float、void、"><a href="#指针类型-int、char、float、void、" class="headerlink" title="指针类型:int、char、float、void、"></a>指针类型:int<em>、char</em>、float<em>、void</em>、</h3><h3 id="空类型-void"><a href="#空类型-void" class="headerlink" title="空类型:void"></a>空类型:void</h3><h2 id="一维数组"><a href="#一维数组" class="headerlink" title="一维数组"></a>一维数组</h2><h3 id="一维数组创建"><a href="#一维数组创建" class="headerlink" title="一维数组创建"></a>一维数组创建</h3><p>一维数组–就是平时创建的数组<br>数组–一种相同类型元素的集合.<br>数组是用下标（[]）来访问的，下标是从0开始<br><code>int n=1;int arr[n];</code>这么写是不行的，n是变量，[]里要求常量.这叫变长数组，变长数组在c99标椎才支持.<br>但是可以<code>define N 0;int arr[N]</code>是可以的.</p>
<h3 id="一维数组初始化"><a href="#一维数组初始化" class="headerlink" title="一维数组初始化"></a>一维数组初始化</h3><p><code>int arr[10]=&#123;1,2,3,4,5,6,7,8,9,10&#125;;</code>这叫完全初始化，创建一个数组，数组可以放10个元素，这10个元素是1，2，3，4，5，6，7，8，9，10.<br><code>int arr[10]=&#123;1,2,3,4,5&#125;;</code>这叫未完全初始化，创建一个数组，数组可以放10个元素，这10个元素是1,2,3,4,5,0,0,0,0,0,0.没有完全初始化的位置会自动补0<br><code>int arr[]=&#123;1,2,3,4,5&#125;;</code>如果这样写，那他会根据后面的内容自动帮你填上[]里的内容.也就是说<code>int arr[]=&#123;1,2,3,4,5&#125;;</code>&#x3D;&#x3D;<code>int arr[5]=&#123;1,2,3,4,5&#125;;</code></p>
<p><code>char ch[5]=&#123;&#39;h&#39;,&#39;e&#39;,&#39;l&#39;,&#39;l&#39;,&#39;o&#39;&#125;;</code>完全初始化，和上面一样，ch里的元素是’h’,’e’,’l’,’l’,’o’<br><code>char ch[5]=&#123;&#39;h&#39;,&#39;e&#39;,&#39;l&#39;&#125;;</code>未完全初始化，和上面一样，没初始化的位置自动补0，ch里的元素是’h’,’e’,’l’,0,0<br><code>char ch[]=&#123;&#39;h&#39;,&#39;e&#39;,&#39;l&#39;&#125;</code>和上面一样，根据后面的内容自动帮你填上，<code>char ch[]=&#123;&#39;h&#39;,&#39;e&#39;,&#39;l&#39;&#125;</code>&#x3D;&#x3D;<code>char ch[3]=&#123;&#39;h&#39;,&#39;e&#39;,&#39;l&#39;&#125;;</code></p>
<p><code>char ch[5]=&quot;hello&quot;;</code>字符串的初始化和上面的不同，字符串初始化最后会自动补上’\0’,但是如果位置不够.就不会补上’\0’<br><img src="/2022/06/08/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/2022-06-17-15-17-37.png"><br>因为ch数组只给了5个空间，而后面的内容刚好占满了5个空间，那’\0’就没地方放了.所以打印的时候，没有’\0’就一直往后打印，直到遇到’\0’.<br><code>char ch[5]=&quot;hel&quot;;</code>这里就可以放的下’\0’了，’\0’也是要占一个空间的，如果说’\0’放进去还有空余的位置，那剩下的空余位置就会自动补0，此时这个ch里的元素是h,e,l,\0,0<br><code>char ch[]=&quot;hel&quot;</code>这个数组里的元素是h,e,l,\0,<code>char ch[]=&quot;hel&quot;</code>&#x3D;&#x3D;<code>char ch[4]=&quot;hel&quot;</code></p>
<p>数组的大小可以通过计算得到（sizeof）<br>用数组总大小除以数组中一个元素的大小就可以算出整个数组的元素个数，sizeof(arr)&#x2F;sizeof(arr[0]);<br>sizeof计算的时候会吧\0算进去，sizeof实际上是求数组大小，单位字节.<br>stelen求字符串长度，不会把\0算进去.</p>
<h2 id="二维数组"><a href="#二维数组" class="headerlink" title="二维数组"></a>二维数组</h2><p>arr[行][列]<br>行可以省略，列不可以</p>
<h3 id="二维数组初始化"><a href="#二维数组初始化" class="headerlink" title="二维数组初始化"></a>二维数组初始化</h3><blockquote>
<p><code>int arr[3][3]=&#123;1,2,3,4,5,6,7,8,9&#125;;</code>完全初始化<br> <img src="/2022/06/08/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/2022-06-17-15-55-14.png"></p>
</blockquote>
<blockquote>
<p><code>int arr[3][3]=&#123;1,2,3,4,5&#125;;</code>不完全初始化，剩下的位置自动补0<br><img src="/2022/06/08/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/2022-06-17-16-01-08.png"></p>
</blockquote>
<blockquote>
<p><code>int arr[][3]=&#123;1,2,3,4,5,6,7,8,9&#125;;</code>行可以省略，因为就算你不知道有多少行，只要知道列，一列满了就会换行，可以算出有多少行<br><img src="/2022/06/08/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/2022-06-17-16-04-53.png"></p>
</blockquote>
<blockquote>
<p><code>int arr[][3]=&#123;1,2,3,4&#125;;</code>会自动算出有几行<br><img src="/2022/06/08/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/2022-06-17-16-08-41.png"></p>
</blockquote>
<blockquote>
<p><code>int arr[3][]=&#123;1,2,3,4,5,6,7,8,9&#125;;</code>没有列会报错<br><img src="/2022/06/08/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/2022-06-17-16-06-12.png"></p>
</blockquote>
<blockquote>
<p><code>int arr[3][3]=&#123;&#123;1,2&#125;,&#123;3,4&#125;,&#123;5,6&#125;&#125;;</code>可以使用这样的语法给数组初始化<br><img src="/2022/06/08/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/2022-06-17-16-20-19.png"></p>
</blockquote>
<blockquote>
<p><code>int ch[3][3]=&#123;&#39;a&#39;,&#39;b&#39;,&#39;c&#39;&#125;;</code>创建整形数组，不完全初始化，会直接一ASCLL码值的形式存进去，剩下位置补0<br><img src="/2022/06/08/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/2022-06-17-16-11-57.png"></p>
</blockquote>
<blockquote>
<p><code>int ch[2][2]=&#123;&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;&#125;;</code>完全初始化，整形数组，ASCLL码值存进去<br><img src="/2022/06/08/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/2022-06-17-16-14-47.png"></p>
</blockquote>
<blockquote>
<p><code>char ch[2][2]=&#123;&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;&#125;;</code>字符数组，完全初始化，未完全初始化一样的补0<br><img src="/2022/06/08/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/2022-06-17-16-17-13.png"></p>
</blockquote>
<blockquote>
<p><code>char ch[2][2]=&quot;abcd&quot;;</code>报错<br><img src="/2022/06/08/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/2022-06-17-16-21-24.png"></p>
</blockquote>
<blockquote>
<p>二维数组的数组名表示首元素地址<br>二维数组的首元素是第一行</p>
</blockquote>
<h2 id="数组名"><a href="#数组名" class="headerlink" title="数组名"></a>数组名</h2><p>数组名表示的是数组首元素的地址</p>
<blockquote>
<p>但是有两个例外<br>1.sizeof(数组名) - 数组名表示整个数组，计算的是整个数组的大小，单位是字节.<br>2.&amp;数组名 - 数组名表示整个数组，取出的是整个数组的地址<br>其他情况都是数组首元素地址</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="type">int</span> arr1[<span class="number">10</span>]=&#123;<span class="number">0</span>&#125;;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%p&quot;</span>,arr);</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%p&quot;</span>,&amp;arr);</span><br><span class="line">  <span class="comment">//打印的结果是一样的</span></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>虽然打印的结果是一样的，其实本质上是不一样的</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> arr[<span class="number">10</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, arr);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, &amp;arr);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;----------\n&quot;</span>);</span><br><span class="line">	<span class="comment">//打印的结果是一样的</span></span><br><span class="line">	<span class="type">int</span>* p1 = arr;</span><br><span class="line">	<span class="type">int</span>(*p2)[<span class="number">10</span>] = &amp;arr;</span><br><span class="line">	<span class="comment">//但是存起来的方式是不一样的</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, p1);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, p1+<span class="number">1</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;----------\n&quot;</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, p2);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, p2+<span class="number">1</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/2022/06/08/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/2022-06-17-13-30-44.png"><br>为什么呢？<br><img src="/2022/06/08/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/2022-06-17-13-36-39.png"></p>
<p>下面看个例子</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> arr[<span class="number">10</span>] = &#123; <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span> &#125;;</span><br><span class="line">	<span class="type">int</span>(*parr)[<span class="number">10</span>] = &amp;arr;</span><br><span class="line">	<span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, *((*parr) + i));    <span class="comment">//解引用</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>一般来说，我们都是直接<code>int* parr =arr;</code><br>但是上面代码用了不太恰当的方式，用了一个数组指针来存arr,导致了下面解引用操作变得很复杂<br>parr是一个指针，指向arr这整个数组，parr指向的是整个arr数组<br>如果对其解应用*parr，那对应的是数组名，如果要打印arr数组里的内容没办法直接打印.<br>要在对其解应用<br>*((*parr) + i)，配合循环才能打印出数组的内容<br><img src="/2022/06/08/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/2022-06-17-14-23-08.png"></p>
<h2 id="指针"><a href="#指针" class="headerlink" title="指针"></a>指针</h2><p>指针是编程语言中的一个对象，利用地址，他的值直接指向存在电脑储存器中另一个地方的值.由于同过指针能找到锁需要的变量单元，可以说地址指向该变量单元，因此，将地址形象化的称为指针意思是通过他能找到以他为地址的内存单元<br>指针在32位机器上占4字节<br>指针在64位机器上占8字节<br><img src="/2022/06/08/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/2022-06-17-09-52-15.png"><br><img src="/2022/06/08/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/2022-06-17-10-05-39.png"><br><img src="/2022/06/08/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/2022-06-17-10-21-36.png"><br><img src="/2022/06/08/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/2022-06-17-10-26-18.png"></p>
<h3 id="指针类型的意义"><a href="#指针类型的意义" class="headerlink" title="指针类型的意义"></a>指针类型的意义</h3><p>1.指针类型决定了：指针解引用权限有多大<br>2.指针类型决定了，指针走一步，能走多远（步长）<br>举个例子</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="type">int</span> a = <span class="number">0x11223344</span>;</span><br><span class="line">  <span class="type">char</span>* pc = &amp;a;</span><br><span class="line">  *pc=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//这么操作过后a就变成了0x11223300</span></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/2022/06/08/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/2022-06-17-10-38-55.png"></p>
<h3 id="野指针"><a href="#野指针" class="headerlink" title="野指针"></a>野指针</h3><h4 id="1-指针未初始化"><a href="#1-指针未初始化" class="headerlink" title="1.指针未初始化"></a>1.指针未初始化</h4><p>就是指指针指向的位置是不可知的（随机的，不确定的，没有明确限制的）</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="type">int</span> *p;<span class="comment">//指针没有初始化，默认为随机值</span></span><br><span class="line">  *p=<span class="number">20</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-指针越界访问"><a href="#2-指针越界访问" class="headerlink" title="2.指针越界访问"></a>2.指针越界访问</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="type">int</span> arr[<span class="number">10</span>]=&#123;<span class="number">0</span>&#125;;</span><br><span class="line">  <span class="type">int</span> *p = arr;<span class="comment">//arr本身就是首地址，所以不用加&amp;</span></span><br><span class="line">  <span class="type">int</span> i=<span class="number">0</span>；</span><br><span class="line">  <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;=<span class="number">10</span>;i++)</span><br><span class="line">  &#123;</span><br><span class="line">    *p=i;<span class="comment">//这个循环一共循环了11次，但arr只有10个位置,访问了第11个位置，这就是指针越界</span></span><br><span class="line">    p++;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-指针指向的空间释放"><a href="#3-指针指向的空间释放" class="headerlink" title="3.指针指向的空间释放"></a>3.指针指向的空间释放</h4><p>解释：就本来有个指针p，指向某个地址，这没问题，过了一会这个地址里的内容因为某些原因被释放了，被干掉了，那这个指针也变成了野指针</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>* <span class="title function_">test</span><span class="params">()</span>                            </span><br><span class="line">&#123; <span class="comment">//创建一个test函数，在test函数中创建一个a，返回a的地址，回到主函数后用p来接收，最后解引用通过*p来改变a的值</span></span><br><span class="line"><span class="type">int</span> a = <span class="number">10</span>;                </span><br><span class="line"><span class="keyword">return</span> &amp;a;</span><br><span class="line">&#125;                                </span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> * p = test();</span><br><span class="line">*p = <span class="number">20</span>;<span class="comment">//a的地址是会如实的放到p里，但是a出了test函数就被销毁了，这时再用*p=20，就是非法访问内存.</span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这里简说一下，会在动态内存开辟的时候讲<br>函数中的变量，用完就会被释放，这个函数用完，a里的内容会被释放，所以虽然指针指向他的地址，但是这个空间已经不归p指针了，这时p就是个野指针</p>
<h4 id="4-如何规避野指针"><a href="#4-如何规避野指针" class="headerlink" title="4.如何规避野指针"></a>4.如何规避野指针</h4><p>1.指针初始化<br>当前不知道p应该初始化为什么地址的时候（下面可能会初始化），直接先初始化为NULL .<code>int *p = NULL（空指针）</code>;<br>初始化成空指针的指针是不能访问的.不能用的.<br>2.小心指针越界<br>c语言本身是不会检查数据的越界行为的<br>3.指针指向空间释放的时候要及时把它置成NULL<br>4.指针使用之前检查有效性<br><code>if（p != NULL）</code>  判断一下能不能用，是不是空指针</p>
<h3 id="指针运算"><a href="#指针运算" class="headerlink" title="指针运算"></a>指针运算</h3><p>指针和指针相减的前提是：两个指针指向同一块空间<br>指针-指针得到的是两个指针之间的元素个数</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">mian</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="type">int</span> arr[<span class="number">10</span>]=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>&#125;;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,&amp;arr[<span class="number">9</span>]-&amp;arr[<span class="number">0</span>]);<span class="comment">//输出9</span></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这里的9代表的是9个地址，也就是arr[9]和arr[0]差了9个地址<br>注意区分指针加减，和，指针加指针，指针减指针的区别<br>指针减指针得到的是两个指针之间的元素个数<br>指针加指针并没有什么用</p>
<h3 id="指针和数组"><a href="#指针和数组" class="headerlink" title="指针和数组"></a>指针和数组</h3><p>因为指针就是一个地址，那数组也是一个地址，所以可以写成</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="type">int</span> arr[]=&#123;<span class="number">0</span>&#125;;</span><br><span class="line">  <span class="type">int</span> *P =arr;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>p[2]-&gt;*(p+2)</code><br><code>arr[2]-&gt;*(arr+2)-&gt;*(2+arr)-&gt;2[arr]</code><br><code>arr[2] &lt;==&gt; *(arr+2) &lt;==&gt; *(p+2) &lt;==&gt; *(2+p) &lt;==&gt; *(2+arr) &lt;==&gt; 2[arr]</code><br>这里只是示例可以这么写，如果实际编程的时候这么写，头都给你拧下来.</p>
<h3 id="二级指针"><a href="#二级指针" class="headerlink" title="二级指针"></a>二级指针</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="type">int</span> a=<span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span>* pa=&amp;a;<span class="comment">//一级指针</span></span><br><span class="line">  <span class="type">int</span>** ppa=&amp;pa;<span class="comment">//二级指针</span></span><br><span class="line">  <span class="type">int</span>*** pppa =&amp;ppa;<span class="comment">//可以套娃套下去，但是一般二级就已经很麻烦了.</span></span><br><span class="line">  **ppa=<span class="number">0</span>;<span class="comment">//二级指针解应用要2颗*</span></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="指针数组"><a href="#指针数组" class="headerlink" title="指针数组"></a>指针数组</h3><p><code>int arr[10];</code> 整形数组 – 存放整形的数组就是整形数组<br><code>char ch[5];</code> 字符数组 - 存放的是字符</p>
<p>指针数组  –存放指针的数组<br><code>int * parr[] ;</code> 整形指针的数组<br><code>char * pch[] ;</code>字符指针的数组</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">	<span class="type">int</span> b = <span class="number">20</span>;</span><br><span class="line">	<span class="type">int</span> c = <span class="number">30</span>;</span><br><span class="line">	<span class="type">int</span>* arr[<span class="number">3</span>]=&#123;&amp;a,&amp;b,&amp;c&#125;;<span class="comment">//存放整形指针的数组  //非常挫的写法</span></span><br><span class="line">	<span class="type">int</span> i;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, *(arr[i])); <span class="comment">//输出10,20,30</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> a[<span class="number">5</span>] = &#123; <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span> &#125;;</span><br><span class="line">	<span class="type">int</span> b[] = &#123; <span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>, &#125;;</span><br><span class="line">	<span class="type">int</span> c[] = &#123; <span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span> &#125;;</span><br><span class="line">	<span class="type">int</span>* arr[<span class="number">3</span>] = &#123; a,b,c &#125;;</span><br><span class="line">	<span class="type">int</span> i;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">int</span> j = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; <span class="number">5</span>; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, *(arr[i] + j));<span class="comment">//输出1 2 3 4 5 </span></span><br><span class="line">		&#125;                                 <span class="comment">//   2 3 4 5 6 </span></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);                     <span class="comment">//   3 4 5 6 7</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="字符指针"><a href="#字符指针" class="headerlink" title="字符指针"></a>字符指针</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="type">char</span> *p = <span class="string">&quot;hell&quot;</span>;</span><br><span class="line">  <span class="type">char</span> arr[]=<span class="string">&quot;hello&quot;</span>;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%s&quot;</span>,p);</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%s&quot;</span>,arr);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面程序中，虽然都能打印出来hello<br>但是在本质上是不一样的.<br>char*p只是把hello中h的地址放到了p里<br>char arr[]是确确实实的吧“hello”放进了arr里</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">char</span> str1[] = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">	<span class="type">char</span> str2[] = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">	<span class="type">char</span>* str3 = <span class="string">&quot;hello&quot;</span>; <span class="comment">//常量字符串</span></span><br><span class="line">	<span class="type">char</span>* str4 = <span class="string">&quot;hello&quot;</span>; <span class="comment">//常量字符串</span></span><br><span class="line">	<span class="keyword">if</span> (str1 == str2)  <span class="comment">//不管放的内容一不一样，一个新的数组会开辟一个新空间，所以1和2不同</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;1和2相同\n&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;1和2不同\n&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (str3 == str4)   </span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;3和4相同\n&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;3和4不同\n&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line"> <span class="comment">//输出1和2不同，3和4相同</span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>因为str1和str2是两个数组，既然是两个数组，那肯定开辟了两个地址.虽然str1和str2里面的内容是一样.但是对应的地址是不同的<br>而str3和str4,都指向了h的地址.str3和str4都h的地址，所以相同</p>
<h3 id="数组指针"><a href="#数组指针" class="headerlink" title="数组指针"></a>数组指针</h3><p>指针数组：有一个数组，数组里的内容是指针<br>数组指针：有一个指针，该指针指向的是一个数组</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> arr[<span class="number">10</span>] = &#123; <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span> &#125;;</span><br><span class="line">	<span class="comment">//parr就是一个数组指针</span></span><br><span class="line">	<span class="type">int</span>(*parr)[<span class="number">10</span>] = &amp;arr;</span><br><span class="line"></span><br><span class="line">	<span class="type">double</span>* d[<span class="number">5</span>];</span><br><span class="line">	<span class="type">double</span>* (* pd)[<span class="number">5</span>] = &amp;d;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>用<code>double* d[5];</code>举例<br>d[5]是一个数组，里面放的是double<em>类型的元素<br>要是用指针把这个数组存起来，首先要创建一个指针(*pd)<br>注意：pd不是一个指针，加上*才是一个指针。<br>然后加上[],加上[]之后说明是一个数组<br>[]里写多少呢？<br>因为double</em> d[5],所以[]里写5<br>又因为d数组是double*类型的，就是说pd指向的数组内容是double*所以最后<br><code>double* (* pd)[5] = &amp;d;</code></p>
<blockquote>
<p>指针数组是一个数组<br>数组指针是一个指针</p>
</blockquote>
<p>看一个例子</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">void</span> <span class="title function_">print</span><span class="params">(<span class="type">int</span>(*p)[<span class="number">5</span>], <span class="type">int</span> r, <span class="type">int</span> c)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> i, j;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; r; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; c; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, * (*(p + i) + j));</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> arr[<span class="number">3</span>][<span class="number">5</span>] = &#123; &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125; ,&#123;<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>&#125; ,&#123;<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>&#125; &#125;;</span><br><span class="line">	print(arr, <span class="number">3</span>, <span class="number">5</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>二维数组传参，然后用数组指针接收.要打印怎么打印呢？<br>二维数组的数组名是首元素地址，二维数组的首元素地址是第一行<br>二维数组作为参数传过去以后用（<em>p）接收以后怎么表示第一行？<br>p就表示的第一行，那只要对p进行加减就是二维数组第一行加减了<br>所以p+i,因为p+i是一起的所以拿括号包起来（p+i）<br>此时（p+i）就相当于arr[3][5]中的arr[3]<br>然后在后面+j,就相当于[5]<br>((p+i)+j)&#x3D;&#x3D;arr[i][j]<br>接着就是解引用</em>（（p+i）+j）;</p>
<p><code>int arr[5]</code>：数组<br><code>int *parr[5]</code>：指针数组<br><code>int (*parr)[10]</code>数组指针</p>
<blockquote>
<p><code>int (*parr[10])[5]</code>：parr3是一个存放数组指针的数组，该数组能存放10个数组指针，每个数组指针能够指向一个数组，数组5个元素每个元素是int类型<br>什么意思呢？<br><img src="/2022/06/08/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/2022-06-19-17-52-08.png"></p>
</blockquote>
<h3 id="数组参数、指针参数"><a href="#数组参数、指针参数" class="headerlink" title="数组参数、指针参数"></a>数组参数、指针参数</h3><h4 id="一维数组传参"><a href="#一维数组传参" class="headerlink" title="一维数组传参"></a>一维数组传参</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">test</span><span class="params">(<span class="type">int</span> arr[])</span><span class="comment">//可以这么写</span></span><br><span class="line">&#123;</span><br><span class="line">	;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">test</span><span class="params">(<span class="type">int</span> arr[<span class="number">10</span>])</span><span class="comment">//可以这么写</span></span><br><span class="line">&#123;</span><br><span class="line">	;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">test</span><span class="params">(<span class="type">int</span>* arr)</span><span class="comment">//可以这么写</span></span><br><span class="line">&#123;</span><br><span class="line">	;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">test2</span><span class="params">(<span class="type">int</span>* arr[<span class="number">20</span>])</span><span class="comment">//可以这么写</span></span><br><span class="line">&#123;</span><br><span class="line">	;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">test2</span><span class="params">(<span class="type">int</span>** arr)</span><span class="comment">//可以这么写</span></span><br><span class="line">&#123;</span><br><span class="line">	;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">mian</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> arr[<span class="number">10</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">	<span class="type">int</span>* arr2[<span class="number">20</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">	test (arr);</span><br><span class="line">	test(arr2);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="二维数组传参"><a href="#二维数组传参" class="headerlink" title="二维数组传参"></a>二维数组传参</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">test</span><span class="params">(<span class="type">int</span> arr[<span class="number">3</span>][<span class="number">4</span>])</span><span class="comment">//正确</span></span><br><span class="line">&#123;</span><br><span class="line">	;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">test</span><span class="params">(<span class="type">int</span> arr[][])</span><span class="comment">//错误，可以省略行，不能省略列</span></span><br><span class="line">&#123;</span><br><span class="line">	;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">test</span><span class="params">(<span class="type">int</span> arr[][<span class="number">5</span>])</span><span class="comment">//正确</span></span><br><span class="line">&#123;</span><br><span class="line">	;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//总结：二维数组传参，函数形参的设计只能省略第一个[]的数字</span></span><br><span class="line"><span class="comment">//因为对一个二维数组，可以不知道有多少行，但必须知道一行有多少元素</span></span><br><span class="line"><span class="comment">//这样才方便计算</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">test</span><span class="params">(<span class="type">int</span>* arr)</span><span class="comment">//不行，这样实际接收到的的arr[3],接收到的是第一行的地址</span></span><br><span class="line">&#123;<span class="comment">//接收到的是一个一维数组，二维数组怎么能用一维数组接收呢</span></span><br><span class="line">	;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">test</span><span class="params">(<span class="type">int</span>* arr[<span class="number">5</span>])</span><span class="comment">//不行</span></span><br><span class="line">&#123;</span><br><span class="line">	;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">test</span><span class="params">(<span class="type">int</span>(*arr)[<span class="number">5</span>])</span><span class="comment">//正确</span></span><br><span class="line">&#123;</span><br><span class="line">	;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">test</span><span class="params">(<span class="type">int</span>** arr)</span><span class="comment">//不行</span></span><br><span class="line">&#123;</span><br><span class="line">	;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> arr[<span class="number">3</span>][<span class="number">5</span>]=&#123;<span class="number">0</span>&#125;;</span><br><span class="line">	test(arr);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="二级指针传参"><a href="#二级指针传参" class="headerlink" title="二级指针传参"></a>二级指针传参</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">test</span><span class="params">(<span class="type">int</span>** ppa)</span></span><br><span class="line">&#123;</span><br><span class="line">	**ppa = <span class="number">20</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">	<span class="type">int</span>* pa = &amp;a; <span class="comment">//一级指针</span></span><br><span class="line">	<span class="type">int</span>** ppa = &amp;pa; <span class="comment">//二级指针</span></span><br><span class="line">	<span class="comment">//如果函数里接收的是二级指针，那么可以传那些参数过去呢</span></span><br><span class="line">	test(ppa); <span class="comment">//传二级指针自己肯定没问题</span></span><br><span class="line">	<span class="comment">//test(&amp;pa) //可以传一级指针变量的地址</span></span><br><span class="line">	<span class="comment">//int* arr[10]=&#123;0&#125;;</span></span><br><span class="line">	<span class="comment">//test(arr)  //可以传存放一级指针的数组</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, **ppa);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="函数指针"><a href="#函数指针" class="headerlink" title="函数指针"></a>函数指针</h3><p>函数指针：指向函数的指针，存放函数地址的指针</p>
<blockquote>
<p>数组名 !&#x3D; &amp;数组名<br>函数名 &#x3D;&#x3D; &amp;函数名</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">ADD</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">//pf是一个函数指针变量</span></span><br><span class="line">	<span class="type">int</span> (*pr)(<span class="type">int</span>,<span class="type">int</span>) = &amp;ADD;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	add(<span class="number">5</span>,<span class="number">6</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, &amp;add); <span class="comment">//取地址函数名，就是取得函数的地址</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, add); <span class="comment">//和上面结果一样</span></span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> (*pf)(<span class="type">int</span>, <span class="type">int</span>) = &amp;add; <span class="comment">//pf是一个函数指针</span></span><br><span class="line">	<span class="type">int</span> (*pf)(<span class="type">int</span>, <span class="type">int</span>) = add;  <span class="comment">//和上面一样</span></span><br><span class="line">	<span class="type">int</span> ret=(*pf)(<span class="number">3</span>, <span class="number">5</span>); <span class="comment">//函数指针解应用</span></span><br><span class="line">	<span class="type">int</span> ret = pf(<span class="number">3</span>, <span class="number">5</span>); <span class="comment">//这样使用也没问题</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//甚至这样</span></span><br><span class="line">	<span class="type">int</span> ret=(*******pf)(<span class="number">3</span>, <span class="number">5</span>);</span><br><span class="line">	<span class="comment">//这个*只是为了方便理解，有没有和有多少个都一样</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//但是这样不行</span></span><br><span class="line">	<span class="type">int</span> ret = *pf(<span class="number">3</span>, <span class="number">5</span>);</span><br><span class="line">	<span class="comment">//这样写就变成了，先调用函数，算出结果8，然后对8进行解应用</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, (*pf)(<span class="number">3</span>, <span class="number">5</span>)); <span class="comment">//链式访问</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, ret);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>下面看一个代码</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	(*(<span class="type">void</span>(*)())<span class="number">0</span>)();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>解读这段代码<br><img src="/2022/06/08/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/2022-06-23-12-45-33.png"><br><img src="/2022/06/08/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/2022-06-23-12-48-46.png"></p>
<p>在来一个</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">void</span> (*signal(<span class="type">int</span>, <span class="type">void</span>(*)(<span class="type">int</span>)))(<span class="type">int</span>)</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>解读<br>1.signal先和（）结合，说明signal是一个函数<br>2.signal函数有2个参数，一个的整形，一个是函数指针<br>signal里的函数指针指向参数为int，返回值是void的函数<br>3.signal函数的返回类型也是一个函数指针<br>该函数指针指向参数为int，返回值是void的函数<br>signal是一个函数声明<br><img src="/2022/06/08/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/2022-06-23-13-57-30.png"><br>换一种方式理解<br>这个函数还可以写成<br><code>void(*)(int)signal(int,void(*)(int));</code><br><img src="/2022/06/08/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/2022-06-23-14-02-03.png"></p>
<blockquote>
<p>这样看更好理解，但是语法规则不能这么写，只能用开头那种写法<br>也就是<code>void (*signal(int, void(*)(int)))(int)</code></p>
</blockquote>
<blockquote>
<p>虽然语法不支持这么写，但是我们可以对这个代码进行简化<br>怎么简化？<br>typedef - 对类型进行重定义（重命名）<br><code>typedef void(*)(int) pfun_t</code> - 把<code>void(*)(int)</code>这个函数指针类型重命名为pfun_t<br>但是呢，上面这种写法是错误的<br>要写成这样<code>typedef void(*pfun_t)(int)</code><br>那么现在<code>void(*)(int)signal(int,void(*)(int));</code>这个代码就可以写成<code>pfun_t signal(int,pfun_t)</code></p>
</blockquote>
<h3 id="函数指针数组"><a href="#函数指针数组" class="headerlink" title="函数指针数组"></a>函数指针数组</h3><p>函数指针数组：存放函数指针的数组</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">sub</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> x - y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">mul</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> x * y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">Div</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> x / y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> (*pf1)(<span class="type">int</span>,<span class="type">int</span>) = add;</span><br><span class="line">	<span class="comment">//int (*pf1)(int,int) = &amp;add;//和上面效果一样的</span></span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> (*pf2)(<span class="type">int</span>, <span class="type">int</span>) = sub;</span><br><span class="line">	<span class="comment">//int (*pf2)(int, int) = &amp;sub;//和上面一样</span></span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> (*pfarr[<span class="number">2</span>])(<span class="type">int</span>, <span class="type">int</span>) = &#123; add,sub &#125;;  <span class="comment">//函数指针数组</span></span><br><span class="line">	<span class="comment">//int(*pfarr[2])(int, int) = &#123; pf1,pf2 &#125;; //和上面效果一样</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>接着来实现一个加减乘除的计算器</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">sub</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> x - y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">mul</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> x * y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">Div</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> x / y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">menu</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;1.add\n&quot;</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;2.sub\n&quot;</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;3.mul\n&quot;</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;4.div\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> x = <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> y = <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> input = <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> ret = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">do</span> </span><br><span class="line">	&#123;</span><br><span class="line">		menu();</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;请选择：&quot;</span>);</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;input);</span><br><span class="line">		<span class="keyword">switch</span> (input)</span><br><span class="line">		&#123;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;请输入两个操作数:&quot;</span>);</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;x, &amp;y);</span><br><span class="line">			ret = add(x, y);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, ret);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;请输入两个操作数:&quot;</span>);</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;x, &amp;y);</span><br><span class="line">			ret = sub(x, y);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, ret);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;请输入两个操作数:&quot;</span>);</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;x, &amp;y);</span><br><span class="line">			ret = mul(x, y);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, ret);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;请输入两个操作数:&quot;</span>);</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;x, &amp;y);</span><br><span class="line">			ret = Div(x, y);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, ret);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">default</span>:</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;选择错误，重新选择&quot;</span>);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; <span class="keyword">while</span> (input);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>但是随着计算器功能的不断增加，需要的case也会越来越多.代码就会冗余.那么怎么解决这个问题呢？</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">sub</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> x - y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">mul</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> x * y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">Div</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> x / y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">menu</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;1.add\n&quot;</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;2.sub\n&quot;</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;3.mul\n&quot;</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;4.div\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> x = <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> y = <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> input = <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> ret = <span class="number">0</span>;</span><br><span class="line">	<span class="comment">//计算器 - 实现整形的 加 减 乘 除</span></span><br><span class="line">	<span class="keyword">do</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">//pfarr就是函数指针数组</span></span><br><span class="line">		<span class="type">int</span> (*pfarr[<span class="number">5</span>])(<span class="type">int</span>, <span class="type">int</span>) = &#123; <span class="literal">NULL</span>,add,sub,mul,Div &#125;;</span><br><span class="line">		menu();</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;请选择：&quot;</span>);</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;input);</span><br><span class="line">		<span class="keyword">if</span> (input &gt;= <span class="number">1</span> &amp;&amp; input &lt;= <span class="number">4</span>) </span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;请输入两个操作数：&quot;</span>);</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;x, &amp;y);</span><br><span class="line">			ret = (pfarr[input])(x, y);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, ret);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (input == <span class="number">0</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;程序退出\n&quot;</span>);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;选择错误，重新选择\n&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; <span class="keyword">while</span> (input);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>使用函数指针数组就可以解决这个问题.</p>
</blockquote>
<h3 id="函数指针数组指针"><a href="#函数指针数组指针" class="headerlink" title="函数指针数组指针"></a>函数指针数组指针</h3><p>函数指针数组：存放函数指针的数组<br>函数指针数组指针：指向函数指针数组的指针</p>
<p>先来看看之前的例子<br>整形数组：<code>int arr1[10]</code><br>整形数组指针：<code>int(*parr1)[10]=&amp;arr</code></p>
<p>整形指针数组：<code>int*arr2[10]</code><br>整形指针数组指针：<code>int*(*parr2)[10]=&amp;arr</code></p>
<p>函数指针：<code>int(*p3)(int,int)</code><br>函数指针数组：<code>int(*p4[10])(int,int)</code><br>函数指针数组指针：<code>int(*(*p5)[10])(int,int)=&amp;p4</code></p>
<h2 id="回调函数"><a href="#回调函数" class="headerlink" title="回调函数"></a>回调函数</h2><p>回调函数就是一个通过函数指针调用的函数，如果你把函数的指针（地址）作为参数传递给另一个函数，当这个指针被用来调用其所指向的函数时，这就是回调函数<br>什么意思？<br>下面举例说明</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">sub</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> x - y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">mul</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> x * y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">Div</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> x / y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">menu</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;1.add\n&quot;</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;2.sub\n&quot;</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;3.mul\n&quot;</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;4.div\n&quot;</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;0.exit\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">calc</span><span class="params">(<span class="type">int</span>(*p)(<span class="type">int</span>, <span class="type">int</span>))</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> x = <span class="number">0</span>, y = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;请输入两个操作数:&quot;</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;x, &amp;y);</span><br><span class="line">	<span class="type">int</span> ret = p(x, y);</span><br><span class="line">	<span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> input = <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> ret = <span class="number">0</span>;</span><br><span class="line">	<span class="comment">//计算器 - 实现整形的 加 减 乘 除</span></span><br><span class="line">	<span class="keyword">do</span></span><br><span class="line">	&#123;</span><br><span class="line">		menu();</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;请选择：&quot;</span>);</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;input);</span><br><span class="line">		<span class="keyword">if</span> (input == <span class="number">0</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;程序结束\n&quot;</span>);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">switch</span> (input)</span><br><span class="line">		&#123;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">			ret = calc(add);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, ret);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">			ret = calc(sub);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, ret);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">			ret = calc(mul);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, ret);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">			ret = calc(Div);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, ret);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">default</span>:</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;选择错误，重新选择\n&quot;</span>);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; <span class="keyword">while</span> (input);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>下面画图解释<br><img src="/2022/06/08/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/2022-06-23-17-23-35.png"></p>
<h4 id="回调函数-qsort"><a href="#回调函数-qsort" class="headerlink" title="回调函数 - qsort"></a>回调函数 - qsort</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">qsort</span> <span class="params">(		<span class="type">void</span>* base,</span></span><br><span class="line"><span class="params"> 			<span class="type">size_t</span> num, </span></span><br><span class="line"><span class="params"> 			<span class="type">size_t</span> size,</span></span><br><span class="line"><span class="params">            		<span class="type">int</span> (*compar)(<span class="type">const</span> <span class="type">void</span>*,<span class="type">const</span> <span class="type">void</span>*))</span>;</span><br></pre></td></tr></table></figure>
<p><code>void* base</code>：base表示待排序数据中第一个对象的地址<br><code>size_t num</code>：排序数据元素的个数<br><code>size_t size</code>：数据中一个元素的大小，单位是字节<br><code>int (*compar)(const void*,const void*))</code>：用来比较待排序数据中的2个元素的函数</p>
<blockquote>
<p>主要讲解这个形参<code>int (*compar)(const void*,const void*))</code><br>qsort就是根据这个函数的返回值进行排序</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//整数比较</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">cmp_int</span><span class="params">(<span class="type">const</span> <span class="type">void</span>* e1, <span class="type">const</span> <span class="type">void</span>* e2)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> *(<span class="type">int</span>*)e1 - *(<span class="type">int</span>*)e2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//打印数组内容</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">print</span><span class="params">(<span class="type">int</span> arr[],<span class="type">int</span> sz)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> i;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; sz ; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, arr[i]);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">test1</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">//整形数组的排序</span></span><br><span class="line">	<span class="type">int</span> arr[<span class="number">10</span>] = &#123; <span class="number">9</span>,<span class="number">1</span>,<span class="number">7</span>,<span class="number">45</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">558</span>,<span class="number">1</span>,<span class="number">0</span> &#125;;</span><br><span class="line">	<span class="type">int</span> sz = <span class="keyword">sizeof</span>(arr) / <span class="keyword">sizeof</span>(arr[<span class="number">0</span>]);</span><br><span class="line">	qsort(arr, sz, <span class="keyword">sizeof</span>(arr[<span class="number">0</span>]), cmp_int);</span><br><span class="line">	print(arr, sz);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>不知道各位在使用的时候发现了没，就是cmp_int这个函数，我们好像并没有把数组传到cmp_int里，但是他却知道了.<br>关于这点，那肯定就是在qsort函数内部实现的.至于qsort函数是怎么实现的，我不知道，暂时没研究，也不打算研究.</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Stu</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">char</span> name[<span class="number">20</span>];</span><br><span class="line">	<span class="type">int</span> age;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//按照年龄来排序</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">sort_by_age</span><span class="params">(<span class="type">const</span> <span class="type">void</span>* e1, <span class="type">const</span> <span class="type">void</span>* e2)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> ((<span class="keyword">struct</span> Stu*)e1)-&gt;age - ((<span class="keyword">struct</span> Stu*)e2)-&gt;age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//按照名字来排序</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">sort_by_name</span><span class="params">(<span class="type">const</span> <span class="type">void</span>* e1, <span class="type">const</span> <span class="type">void</span>* e2)</span></span><br><span class="line">&#123;</span><br><span class="line">	 <span class="keyword">return</span> <span class="built_in">strcmp</span>(((<span class="keyword">struct</span> Stu*)e1)-&gt;name ,((<span class="keyword">struct</span> Stu*)e2) -&gt; name);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">test2</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">//使用qsort排序结构体类型数据</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">Stu</span> <span class="title">s</span>[3] =</span> &#123; &#123;<span class="string">&quot;zhangsan&quot;</span>,<span class="number">30</span>&#125;,&#123;<span class="string">&quot;lisi&quot;</span>, <span class="number">34</span>&#125;, &#123;<span class="string">&quot;wangwu&quot;</span>, <span class="number">20</span>&#125; &#125;;</span><br><span class="line">	<span class="type">int</span> sz = <span class="keyword">sizeof</span>(s) / <span class="keyword">sizeof</span>(s[<span class="number">0</span>]);</span><br><span class="line">	<span class="comment">//按照年龄来比较</span></span><br><span class="line">	<span class="comment">//qsort(s, sz, sizeof(s[0]), sort_by_age);</span></span><br><span class="line">	<span class="comment">//按照名字来比较</span></span><br><span class="line">	qsort(s, sz, <span class="keyword">sizeof</span>(s[<span class="number">0</span>]), sort_by_name);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">//结构体数据排序</span></span><br><span class="line">	test2();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<hr>
<hr>
<h2 id="模仿qsort实现一个冒泡排序的通用算法"><a href="#模仿qsort实现一个冒泡排序的通用算法" class="headerlink" title="模仿qsort实现一个冒泡排序的通用算法"></a>模仿qsort实现一个冒泡排序的通用算法</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//转换</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">swp</span><span class="params">(<span class="type">char</span>* e1, <span class="type">char</span>* e2, <span class="type">int</span> witdh)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> i;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; witdh; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">char</span> tmp = *e1;</span><br><span class="line">		*e1 = *e2;</span><br><span class="line">		*e2 = tmp;</span><br><span class="line">		e1++;</span><br><span class="line">		e2++;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//冒泡排序</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">bubble_sort</span><span class="params">(<span class="type">void</span>* base, <span class="type">int</span> sz, <span class="type">int</span> width, <span class="type">int</span>(*cmp)(<span class="type">const</span> <span class="type">void</span>* e1, <span class="type">const</span> <span class="type">void</span>* e2))</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> i, j;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; sz - <span class="number">1</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; sz - <span class="number">1</span> - i; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (cmp((<span class="type">char</span>*)base + j * width, (<span class="type">char</span>*)base + (j + <span class="number">1</span>) * width) &gt; <span class="number">0</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="comment">//转换</span></span><br><span class="line">				swp((<span class="type">char</span>*)base + j * width, (<span class="type">char</span>*)base + (j + <span class="number">1</span>) * width, width);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//比较函数</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">cmp_int</span><span class="params">(<span class="type">const</span> <span class="type">void</span>* e1, <span class="type">const</span> <span class="type">void</span>* e2)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> *(<span class="type">int</span>*)e1 - *(<span class="type">int</span>*)e2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> arr[<span class="number">10</span>] = &#123; <span class="number">9</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">0</span> &#125;;</span><br><span class="line">	<span class="type">int</span> sz = <span class="keyword">sizeof</span>(arr) / <span class="keyword">sizeof</span>(arr[<span class="number">0</span>]);</span><br><span class="line">	bubble_sort(arr,sz,<span class="keyword">sizeof</span>(arr[<span class="number">0</span>]),cmp_int);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面代码只对整形数组进行排序，至于其他类型的数组，可以自己去试</p>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><h2 id="自定义类型"><a href="#自定义类型" class="headerlink" title="自定义类型"></a>自定义类型</h2><h2 id="动态内存分配"><a href="#动态内存分配" class="headerlink" title="动态内存分配"></a>动态内存分配</h2><h2 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a>文件操作</h2>
                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">AKYCCCC</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://akycccc.github.io/2022/06/08/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/">https://akycccc.github.io/2022/06/08/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">AKYCCCC</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/c%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/">
                                    <span class="chip bg-color">c语言学习</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
        </div>
    </div>

    

    

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2022/06/09/AMD-V%EF%BC%8C%E6%AD%A4%E4%B8%BB%E6%9C%BA%E6%94%AF%E6%8C%81AMD-V%E4%BD%86%E6%98%AFAMD-V%E5%A4%84%E4%BA%8E%E7%A6%81%E7%94%A8%E7%8A%B6%E6%80%81%EF%BC%8C%E8%99%9A%E6%8B%9F%E6%9C%BA%EF%BC%8C/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/18.jpg" class="responsive-img" alt="AMD-V，此主机支持AMD-V但是AMD-V处于禁用状态，虚拟机，">
                        
                        <span class="card-title">AMD-V，此主机支持AMD-V但是AMD-V处于禁用状态，虚拟机，</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2022-06-09
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E7%96%91%E9%9A%BE%E8%A7%A3%E7%AD%94/" class="post-category">
                                    疑难解答
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2022/06/08/%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%AE%89%E8%A3%85-linux%E5%AE%89%E8%A3%85%EF%BC%88Centos7%EF%BC%89%E6%95%99%E7%A8%8B/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/6.jpg" class="responsive-img" alt="虚拟机安装+linux安装（Centos7）教程">
                        
                        <span class="card-title">虚拟机安装+linux安装（Centos7）教程</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2022-06-08
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/linux/" class="post-category">
                                    linux
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E6%95%99%E7%A8%8B/">
                        <span class="chip bg-color">教程</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="503838841"
                   fixed='true'
                   autoplay='true'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="/libs/aplayer/Meting.min.js"></script>

    

    <div class="container row center-align"
         style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2022</span>
            
            <a href="/about" target="_blank">AKYCCCC</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- 运行天数提醒. -->
            
                <span id="sitetime"> Loading ...</span>
                <script>
                    var calcSiteTime = function () {
                        var seconds = 1000;
                        var minutes = seconds * 60;
                        var hours = minutes * 60;
                        var days = hours * 24;
                        var years = days * 365;
                        var today = new Date();
                        var startYear = "2022";
                        var startMonth = "5";
                        var startDate = "5";
                        var startHour = "0";
                        var startMinute = "0";
                        var startSecond = "0";
                        var todayYear = today.getFullYear();
                        var todayMonth = today.getMonth() + 1;
                        var todayDate = today.getDate();
                        var todayHour = today.getHours();
                        var todayMinute = today.getMinutes();
                        var todaySecond = today.getSeconds();
                        var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                        var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                        var diff = t2 - t1;
                        var diffYears = Math.floor(diff / years);
                        var diffDays = Math.floor((diff / days) - diffYears * 365);

                        // 区分是否有年份.
                        var language = 'zh-CN';
                        if (startYear === String(todayYear)) {
                            document.getElementById("year").innerHTML = todayYear;
                            var daysTip = 'This site has been running for ' + diffDays + ' days';
                            if (language === 'zh-CN') {
                                daysTip = '本站已运行 ' + diffDays + ' 天';
                            } else if (language === 'zh-HK') {
                                daysTip = '本站已運行 ' + diffDays + ' 天';
                            }
                            document.getElementById("sitetime").innerHTML = daysTip;
                        } else {
                            document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                            var yearsAndDaysTip = 'This site has been running for ' + diffYears + ' years and '
                                + diffDays + ' days';
                            if (language === 'zh-CN') {
                                yearsAndDaysTip = '本站已运行 ' + diffYears + ' 年 ' + diffDays + ' 天';
                            } else if (language === 'zh-HK') {
                                yearsAndDaysTip = '本站已運行 ' + diffYears + ' 年 ' + diffDays + ' 天';
                            }
                            document.getElementById("sitetime").innerHTML = yearsAndDaysTip;
                        }
                    }

                    calcSiteTime();
                </script>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/AKYCCCC/AKYCCCC.github.io" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:954660147@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=954660147" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 954660147" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    

    

    <!-- 雪花特效 -->
    

    <!-- 鼠标星星特效 -->
    

     
        <script src="https://ssl.captcha.qq.com/TCaptcha.js"></script>
        <script src="/libs/others/TencentCaptcha.js"></script>
        <button id="TencentCaptcha" data-appid="xxxxxxxxxx" data-cbfn="callback" type="button" hidden></button>
    

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    <!--腾讯兔小巢-->
    
    
    <script type="text/javascript" color="0,0,255"
        pointColor="0,0,255" opacity='0.7'
        zIndex="-1" count="99"
        src="/libs/background/canvas-nest.js"></script>
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
